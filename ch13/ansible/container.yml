version: "2"
defaults:
  database_name: mezzanine
  database_user: mezzanine
services:
  #  nginx:
  #    image: nginx:1.11
  #  mezzanine:
  #    image: ubuntu:xenial
  memcached:
    image: ubuntu:xenial
    expose:
      - "11211"
    ports:
      - "11211:11211"
    command: [-m, "128"]
    entrypoint: memcached
    user: daemon
  postgres:
    image: postgres:9.6
    expose:
      - "5432"
    ports:
      - "5432:5432"
    environment:
      POSTGRES_USER: "{{ database_user }}"
      POSTGRES_PASSWORD: "{{ database_password }}"

  # Add your containers here, specifying the base image you want to build from
  # For example:
  #
  # web:
  #   image: ubuntu:trusty
  #   ports:
  #     - "80:80"
  #   command: ['/usr/bin/dumb-init', '/usr/sbin/apache2ctl', '-D', 'FOREGROUND']
  #   dev_overrides:
  #     environment:
  #       - "DEBUG=1"
  #
registries: {}
  # Add optional registries used for deployment. For example:
  #  google:
  #    url: https://gcr.io
  #    namespace: my-cool-project-xxxxxx
